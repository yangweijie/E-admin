(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d219fb9"],{ba26:function(e,t,c){"use strict";c.r(t);c("ac1f");var n=c("f2bf"),a=Object(n["withScopeId"])("data-v-0c42ba96");Object(n["pushScopeId"])("data-v-0c42ba96");var o={key:0,class:"el-notification right",role:"alert",style:{bottom:"20px"}},s={class:"el-notification__group",style:{width:"100%"}},r={class:"el-notification__content"};Object(n["popScopeId"])();var i=a((function(e,t,c,a,i,l){var u=Object(n["resolveComponent"])("el-progress");return Object(n["openBlock"])(),Object(n["createBlock"])(n["Fragment"],null,[Object(n["createVNode"])("span",{onClick:t[1]||(t[1]=function(){return e.exec&&e.exec.apply(e,arguments)})},[Object(n["renderSlot"])(e.$slots,"default",{},void 0,!0)]),(Object(n["openBlock"])(),Object(n["createBlock"])(n["Teleport"],{to:"body"},[e.visible?(Object(n["openBlock"])(),Object(n["createBlock"])("div",o,[Object(n["createVNode"])("div",s,[Object(n["createVNode"])("h2",{class:"el-notification__title",innerHTML:e.title},null,8,["innerHTML"]),Object(n["createVNode"])("div",r,[Object(n["createVNode"])(u,{percentage:e.progress,status:e.status},null,8,["percentage","status"])]),Object(n["createVNode"])("div",{class:"el-notification__closeBtn el-icon-close",onClick:t[2]||(t[2]=function(){return e.close&&e.close.apply(e,arguments)})})])])):Object(n["createCommentVNode"])("",!0)]))],64)})),l=c("5530"),u=c("3fd4"),b=c("78b1"),d=c("d257"),p=Object(n["defineComponent"])({name:"EadminQueue",props:{title:String,url:String},setup:function(e){var t=Object(n["reactive"])({progress:0,status:"",visible:!1}),c=null,a=0;function o(){a=0,Object(b["a"])(e.url).then((function(e){c&&(t.progress=0,t.status="",clearInterval(c)),t.visible=!0,c=setInterval((function(){r(e.data)}),500)}))}function s(){t.visible=!1,clearInterval(c)}function r(e){Object(b["a"])({url:"queue/progress",params:{id:e}}).then((function(e){0===e.data.status&&0===a&&(a=1,u["b"].warning(Object(d["s"])("queue_message"))),t.progress=e.data.progress,4==e.data.status&&(t.status="exception",clearInterval(c)),3==e.data.status&&(clearInterval(c),t.status="success")}))}return Object(n["onBeforeUnmount"])((function(){s()})),Object(n["onDeactivated"])((function(){s()})),Object(l["a"])({exec:o,close:s},Object(n["toRefs"])(t))}});p.render=i,p.__scopeId="data-v-0c42ba96";t["default"]=p}}]);