(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-090916a4"],{"144d":function(e,t,a){},4149:function(e,t,a){"use strict";a("144d")},a382:function(e,t,a){"use strict";a.r(t);var r=a("f2bf"),o=Object(r["withScopeId"])("data-v-d6670672");Object(r["pushScopeId"])("data-v-d6670672");var n={key:0,class:"tools"},d={key:1,class:"search"},c={class:"tree-group"};Object(r["popScopeId"])();var l=o((function(e,t,a,l,i,u){var s=Object(r["resolveComponent"])("render"),b=Object(r["resolveComponent"])("el-button"),p=Object(r["resolveComponent"])("el-input"),f=Object(r["resolveComponent"])("el-tree"),m=Object(r["resolveComponent"])("el-card"),j=Object(r["resolveDirective"])("loading");return Object(r["withDirectives"])((Object(r["openBlock"])(),Object(r["createBlock"])(m,{shadow:"never","body-style":{padding:"0px"}},Object(r["createSlots"])({default:o((function(){return[e.hideTools?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createBlock"])("div",n,[e.hideAdd?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createBlock"])(s,{key:0,data:e.tools.addButton,params:e.addParams,onSuccess:e.getData},null,8,["data","params","onSuccess"])),!e.hideEdit&&e.editUrl?(Object(r["openBlock"])(),Object(r["createBlock"])(s,{key:1,data:e.tools.editButton,url:e.editUrl,onSuccess:e.getData},null,8,["data","url","onSuccess"])):e.hideEdit||e.editUrl?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createBlock"])(s,{key:2,data:e.tools.edit,url:e.editUrl,disabled:""},null,8,["data","url"])),e.hideDel?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createBlock"])(b,{key:3,type:"danger",icon:"el-icon-delete",class:"ele-btn-icon",disabled:!e.current,onClick:e.del,size:"small"},{default:o((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.trans("el.upload.delete")),1)]})),_:1},8,["disabled","onClick"]))])),e.hideFilter?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createBlock"])("div",d,[Object(r["createVNode"])(p,{"prefix-icon":"el-icon-search",size:"small",modelValue:e.keyword,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.keyword=t})},null,8,["modelValue"])])),Object(r["createVNode"])("div",c,[Object(r["createVNode"])(f,Object(r["mergeProps"])(e.tree.attribute,{"highlight-current":"",data:e.treeData,"current-node-key":e.current,onNodeClick:e.onNodeClick}),null,16,["data","current-node-key","onNodeClick"])])]})),_:2},[e.header?{name:"header",fn:o((function(){return[Object(r["renderSlot"])(e.$slots,"header",{},void 0,!0)]}))}:void 0]),1536)),[[j,e.loading]])})),i=a("5530"),u=(a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0"),a("06c5"));function s(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=Object(u["a"])(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,d=!0,c=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return d=e.done,e},e:function(e){c=!0,n=e},f:function(){try{d||null==a["return"]||a["return"]()}finally{if(c)throw n}}}}a("a9e3"),a("99af");var b=a("d257"),p=a("03f6"),f=a("3fd4"),m=Object(r["defineComponent"])({name:"EadminSidebarGrid",props:{hideAdd:Boolean,hideEdit:Boolean,hideDel:Boolean,hideFilter:Boolean,hideTools:Boolean,gridValue:Boolean,header:Boolean,hideAll:Boolean,tree:Object,defaultValue:{type:[String,Number],default:""},tools:[Object,Boolean],params:{type:Object,default:{}},gridParams:{type:Object,default:{}},field:{type:String,default:"group_id"},dataSource:{type:Array,default:[]}},emits:["update:gridValue","update:gridParams","update:dataSource"],setup:function(e,t){t.emit("update:gridParams",e.params);var a=Object(p["a"])(),o=a.loading,n=a.http,d=Object(r["reactive"])({current:e.defaultValue,keyword:"",editUrl:"",dataSource:e.dataSource});if(!e.hideAll){var c={};c[e.tree.attribute.nodeKey]="",c[e.tree.attribute.props.label]="全部",d.dataSource.unshift(c)}if(e.defaultValue){var l={};l[e.field]=e.defaultValue,t.emit("update:gridParams",l)}var u=Object(r["computed"])((function(){var t={};return t[e.field]=d.current,e.tools.addButton&&(t=Object.assign(e.tools.addButton.attribute.params,t)),t}));function m(a){d.current=a[e.tree.attribute.nodeKey];var r={};r[e.field]=d.current,d.current?d.editUrl="/eadmin/"+d.current+"/edit.rest":d.editUrl="",t.emit("update:gridParams",r),t.emit("update:gridValue",!0)}function j(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=e.tree.attribute.props.label,o=e.tree.attribute.props.children;if(!t.length)return[];var n,c=s(t);try{for(c.s();!(n=c.n()).done;){var l=n.value;if(l[r].indexOf(d.keyword)>-1){var u=Object(i["a"])(Object(i["a"])({},l),{},{children:[]});a.push(u),l[o]&&l[o].length&&j(l[o],u.children)}else l[o]&&l[o].length&&j(l[o],a)}}catch(b){c.e(b)}finally{c.f()}return a}var O=Object(r["computed"])((function(){var e=j(d.dataSource);return t.emit("update:dataSource",e),e}));function h(){var a=e.tree.attribute.props.label,r=e.tree.attribute.nodeKey,o=[],c={};e.hideAll||(c[r]="",c[a]="全部",o.push(c)),n({url:"/eadmin.rest",params:Object.assign({eadmin_sidebar_data:!0},t.attrs.remoteParams)}).then((function(e){d.dataSource=o.concat(e.data),d.dataSource.length>0&&m(d.dataSource[0])}))}function v(){f["c"].confirm("确定要删除选中吗?","提示",{type:"warning"}).then((function(){n({url:"/eadmin.rest",params:Object.assign({eadmin_sidebar_delete:!0,id:d.current},t.attrs.remoteParams)}).then((function(e){h()}))}))}return Object(i["a"])({trans:b["s"],del:v,loading:o,getData:h,addParams:u,treeData:O,onNodeClick:m},Object(r["toRefs"])(d))}});a("4149");m.render=l,m.__scopeId="data-v-d6670672";t["default"]=m}}]);